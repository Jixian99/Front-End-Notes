<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>执行上下文栈-2</title>

    <script type="text/javascript">

        // 例子
        /*
        1. 依次输出什么?
        global begin: undefined
        foo() begin: 1
        foo() begin: 2
        foo() begin: 3
        foo() end: 3
        foo() end: 2
        foo() end: 1
        global end: 1


        
        2. 整个过程中产生了几个执行上下文?  5
         */
        console.log('global begin: ' + i)
        var i = 1;
        foo(1);

        function foo(i) {
            if (i == 4) {
                return; // 这边的return只是terminate了foo(4)
            }
            console.log('foo() begin:' + i);
            foo(i + 1); //递归调用: 在函数内部调用自己

            // foo(3), foo(2), foo(1) 还在栈里
            console.log('foo() end:' + i); //出栈 所以会 3 2 1这样的结果
        }
        console.log('global end: ' + i);


    </script>

</head>

<body>




</body>

</html>