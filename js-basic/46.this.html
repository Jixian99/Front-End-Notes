<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>this</title>
    <script type="text/javascript">


        /**
         *  
         *  解析器在调用函数时, 每次都会向函数内部传递进一个隐含的参数
         *      这个隐含的参数就是this, this指向的是一个对象,
         *      这个对象我们称为函数执行的上下文对象, 
         *      根据函数调用方式的不同, this会指向不同的对象
         *          1. 以函数的形式调用时, this永远都是window
         *          2. 以方法的形式调用时, this就是调用方法的那个对象
         * 
         * 
         *      
         *  In JavaScript, the 'this' keyword refers to an object.
         *  Which object depends on how this is being invoked (used or called).
         * 
         *  In a function, in strict mode, this is undefined.
         *  In an event, this refers to the element that received the event.
         *  Methods like call(), apply(), and bind() can refer this to any object.
         * 
         * 
        */
        // function func(a, b) {

        /**
         * 
         *  In a function, the global object is the default binding for this.
         *  In a browser window， the global object is [object Window]:
         * 
         * 
        */
        function func() {
            // console.log("a = " + a + "," + " b = " + b);

            // console.log(this);
            console.log(this.name);

        }

        // func(123, 456);






        /**
         * 
         *  When used in an object method, this refers to the object.
         * 
        */

        // 创建一个对象
        var obj = {
            name: "孙悟空",
            sayName: func
        };

        var obj2 = {
            name: "沙和尚",
            sayName: func
        };

        var name = "全局的name属性";


        /**
        * 
        *  当console.log(this.name); 时, 会显示在obj里面的name, 即name: "孙悟空" , 因为这边的func()里面的this指向的是obj
        * 
       */
        // 以方法的形式调用, this指向是调用方法的对象
        obj.sayName(); // {name: '孙悟空', sayName: ƒ}

        /**
         * 
         *  当console.log(this.name); 时, 会显示在global scope 里面的name, 即var name = "全局的name属性"; , 因为这边的func()里面的this指向的是window
         * 
        */
        // 以函数形式调用, this是window
        // func() === window.func()
        func(); // Window {window: Window, self: Window, document: document, name: '', location: Location, …}

        /**
        * 
        *  当console.log(this.name); 时, 会显示在obj2里面的name, 即name: "沙和尚" , 因为这边的func()里面的this指向的是obj2
        * 
       */
        // 以方法的形式调用, this指向是调用方法的对象
        obj2.sayName(); // {name: '沙和尚', sayName: ƒ}

    </script>
</head>

<body>

</body>

</html>