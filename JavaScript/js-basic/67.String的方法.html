<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>String的方法</title>
    <script type="text/javascript">
        //创建一个字符串
        var str = "Hello Atguigu";

        /**
         * 
         *  在底层字符串是以字符数组的形式保存的
         *  ["H","e","l",...]
         * 
        */

        /**
         * 
         *  length属性
         *  - 可以用来获取字符串的长度
         * 
        */
        console.log(str.length); // 13
        console.log(str[0]); // H 
        console.log(str[5]); // " "



        /**
         * 
         *  charAt()
         *  - 可以返回字符串中指定位置的字符
         *  - 根据索引获取指定的字符
         *  
         * 
        */
        str = "Hello Atguigu";

        var result = str[0]; // H
        var result = str.charAt(0); // H

        console.log(result);


        /**
         * 
         *  at()
         *  
         *  - negative index means count from backwards （倒着数）
         *  It allows the use of negative indexes while charAt() do not.
         *  Now you can use myString.at(-2) instead of charAt(myString.length-2).
         * 
         * 
        */
        const name = "W3Schools";
        let letter = name.at(2); // S
        letter = name.at(-2); // l
        console.log(letter);


        /**
         * 
         *  charCodeAt()
         *  - 获取指定位置字符的字符编码(Unicode编码)
         * 
        */
        result = str.charCodeAt(0); // 72 , H的unicode编码是72

        console.log(result);



        /**
         * 
         *  String.fromCharCode()
         *  -  可以根据字符编码去获取字符
         * 
        */
        result = String.fromCharCode(72);  // H 
        result = String.fromCharCode(73);  // I 
        result = String.fromCharCode(20013);  // 中
        result = String.fromCharCode(0x2682); // ⚂

        console.log(result);



        /**
         * 
         *   concat()
         *   - 可以用来连接两个或多个字符串
         *   - 作用和+一样
         * 
        */
        // 和 "Hello Atguigu"+ "您好" + "再见" 效果一样
        result = str.concat("您好", "再见"); // Hello Atguigu您好再见

        console.log(result);


        /**
         * 
         *  indexOf()
         *  - 该方法可以检索一个字符串中是否含有指定内容
         *  - 如果字符串中含有该内容, 则会返回其第一次出现的索引
         *  - 如果没有找到指定的内容, 则返回-1
         *  - 可以指定一个第二个参数, 指定开始查找的位置
         *  - 从左向右找
         * 
         *  accept a second parameter as the starting position for the search
         * 
         * 
        */
        str = "Hello HAtguigu";
        result = str.indexOf("H"); // 0
        result = str.indexOf(" "); // 5
        result = str.indexOf("p"); // -1

        result = str.indexOf("H", 0); // 0
        result = str.indexOf("H", 1); // 6

        console.log(result);



        /**
         * 
         *  lastIndexOf()
         *  - 该方法的用法和indexOf()一样,
         *      不同的是indexOf是从前往后找,
         *      而lastIndexOf是从后往前找
         *  - 从右向左找
         *  - 也可以指定开始查找的位置
         * 
         *  searches backwards (from the end to the beginning), 
         *  meaning: if the second parameter is 15, the search starts at position 15, 
         *  and searches to the beginning of the string.
         * 
        */
        str = "hello hatguigu";
        result = str.lastIndexOf("h"); // 6


        result = str.lastIndexOf("h", 5); // 0
        console.log("lastIndeof= " + result);



        /**
         * 
         *  slice()
         *  - 可以从字符串中截取指定的内容
         *  - 不会影响原字符串, 而是将截取到的内容返回
         *  - 参数:
         *      第一个, 开始位置的索引(包括开始位置)
         *      第二个, 结束位置的索引(不包括结束位置)
         *          - 如果省略第二个参数, 则会截取到后边所有的
         *          - 也可以传递一个负数作为参数, 负数的话将会从后边计算
         * 
        */
        str = "abcdefghijk";

        var result = str.slice(0, 2); // ab
        result = str.slice(1); // bcdefghijk
        result = str.slice(1, -1); // bcdefghij

        console.log(result);





        /**
         * 
         *  substring()
         *  - 可以用来截取一个字符串, 和slice()类似
         *  - 参数:
         *      - 第一个, 开始截取位置的索引(包括开始位置)
         *      - 第二个, 结束位置的索引(不包括结束位置)
         *          - 如果省略第二个参数, 则会截取到后边所有的
         *      - 不同的是这个方法不能接受负值作为参数,
         *          如果传递了一个负值, 则默认使用0
         *      - 而且它还自动调整参数的位置, 如果第二个参数小于第一个, 则自动交换
         * 
        */
        str = "abcdefghijk";
        result = str.substring(0, 2); // ab

        // 会变成 result = = str.substring(1, 0);  , 0比1小, 所以会交换位置, 变成 result = = str.substring(0, 1); 
        result = str.substring(1, -1); // a

        console.log(result);





        /**
         * 
         *  substr()
         *  - 用来截取字符串
         *  - 参数：
         *      - 第一个, 截取开始位置的索引
         *      - 第二个, 截取的长度
         * 
         * 
        */
        str = "abcdefg";

        result = str.substr(1, 2); // bc
        result = str.substr(3, 2); // de

        console.log(result);





        /**
         * 
         *  split()
         *  - 可以将一个字符串拆分为一个数组
         *  - 参数：
         *      - 需要一个字符串作为参数, 将会根据该字符串去拆分数组
         *      - 如果传递一个空串作为参数, 则会将每个字符都拆分为数组中的一个元素 
         * 
         * 
        */
        str = "abc,bcd,efg,hij";
        result = str.split(","); // ['abc', 'bcd', 'efg', 'hij']   , object  , true
        result = str.split("d"); //  ['abc,bc', ',efg,hij']  , object, true
        result = str.split(""); // ['a', 'b', 'c', ',', 'b', 'c', 'd', ',', 'e', 'f', 'g', ',', 'h', 'i', 'j']
        result = str.split(); // ['abc,bcd,efg,hij']

        console.log(result);
        console.log(typeof result);
        console.log(Array.isArray(result));




        /**
         * 
         *  toUpperCase()
         *  - 可以将一个字符串转换为大写并返回
         * 
         * 
        */
        result = str.toUpperCase(); //ABC,BCD,EFG,HIJ
        console.log(result);



        /**
         * 
         *  toLowerCase()
         *  - 可以将一个字符串转换为小写并返回
         * 
         * 
        */
        str = "ABCDEFG";
        result = str.toLowerCase(); // abcdefg

        console.log(result);




        /**
         * 
         *  trim()
         *  -  removes whitespace from both sides of a string
         * 
         * 
        */
        let text1 = "      Hello World!      ";
        let text2 = text1.trim(); // Hello World!
        console.log(text2);



        /**
         *  
         *  trimStart() 
         *  - works like trim(), but removes whitespace only from the start of a string
         * 
         * 
        */
        text1 = "      Hello World!      ";
        // there are white space behind the World!
        text2 = text1.trimStart(); // Hello World!    
        console.log(text2);


        /**
        *  
        *  trimEnd() 
        *  - works like trim(), but removes whitespace only from the end of a string
        * 
        * 
       */
        text1 = "      Hello World!      ";
        // there are white space before the Hello
        text2 = text1.trimEnd(); //     Hello World!
        console.log(text2);




        /**
         * 
         *  padStart()
         *  - pads a string from the start.
         *  - It pads a string with another string (multiple times) until it reaches a given length
         *  - 参数：
         *      第一个参数是string需要达到的长度
         *      第二个参数是要加的字符串
         *  
         *  padStart是string method, number 要用的换需要转换为string先
         * 
         * 
         * 
        */
        let text = "5";
        let padded = text.padStart(4, "0"); // 0005

        padded = text.padStart(4, "xe"); // xex5
        console.log(padded);



        /**
         * 
         *  padEnd()
         *  - pads a string from the end.
         *  - It pads a string with another string (multiple times) until it reaches a given length.
         *  - 参数：
         *      第一个参数是string需要达到的长度
         *      第二个参数是要加的字符串
         * 
         *  padStart是string method, number 要用的换需要转换为string先
         * 
        */
        text = "5";
        padded = text.padEnd(4, "x"); // 5xxx
        padded = text.padEnd(5, "xe"); // 5xexe

        console.log(padded);




        /**
         * 
         *  repeat()
         *  - returns a string with a number of copies of a string
         *  - 重复字符串
         *  - 语法：
         *      string.repeat(count)
         * 
         *  - 参数：
         *      count ---\>  The number of copies wanted.
         *      - 要重复的次数
         * 
        */
        text = "Hello world!";
        result = text.repeat(2); // Hello world!Hello world!

        console.log(result);






        /**
         * 
         *  replace() 
         *  - replaces a specified value with another value in a string
         *  - replaces only the first match
         *      - 如果要替换所有符合条件的字符串, 用/.../g
         *  - case-sensitive
         *      - 如果要取消case sensitive, 用/.../i
         *  - 不会改变原字符串
         * 
         *  
         * 
        */
        text = "Please visit Microsoft Microsoft!";
        let newText = text.replace("Microsoft", "W3Schools"); // "Please visit W3Schools Microsoft!"

        // !!!
        // To replace case insensitive, use a regular expression with an /i flag (insensitive)
        newText = text.replace(/MICROSOFT/i, "W3Schools"); // "Please visit W3Schools Microsoft!"

        // To replace all matches, use a regular expression with a /g flag (global match):
        newText = text.replace(/Microsoft/g, "W3Schools"); // Please visit W3Schools W3Schools!

        newText = text.replace(/Microsoft/gi, "W3Schools"); // Please visit W3Schools W3Schools!

        console.log(newText);



        /**
         * 
         *  replaceAll()
         *  - allows you to specify a regular expression instead of a string to be replaced.
         *  - If the parameter is a regular expression, the global flag (g) must be set, otherwise a TypeError is thrown.
         *  - 会改变原字符串
         *  - case sensitive
         * 
        */
        text = "I love cats. Cats are very easy to love. Cats are very popular";
        // text = text.replaceAll(/Cats/g, "Dogs"); // I love cats. Dogs are very easy to love. Dogs are very popular
        // text = text.replaceAll(/cats/g, "dogs"); // I love dogs. Cats are very easy to love. Cats are very popular

        text = text.replaceAll("cats", "dogs"); // I love dogs. Cats are very easy to love. Cats are very popular
        console.log(text);




        /**
         * 
         *  search()
         *  - searches a string for a string (or a regular expression) and returns the position of the match
         *  - return the position of the first occurrence of parameter pass in
         *  - 和indexOf()方法类似, 不同的是
         *      search()不接受第二个参数, 所以不能指定开始找的位置
         *      search()可以查找regular expression
         * 
        */
        text = "Please locate where 'locate' occurs!";

        // return the position of the first occurrence of "locate" is
        let index = text.search("locate"); // 7
        index = text.search(/locate/); // 7

        console.log(index);



        /**
         * 
         *  match()
         *  - returns an array containing the results of matching a string against a string (or a regular expression).
         *  - 返回一个数组  
         *      - 0: ain  --\> 要匹配的字符串
         *      - index --\> 在哪个index匹配到字符串的第一个字母
         *      - groups
         *      - input: 要匹配的原字符串
         *      - length: 匹配到的字符串的数量
         *  - return only the first match
         *      - 如果要匹配所有符合条件的字符串, 用/.../g
         *  - case-sensitive
         *      - 如果要取消case sensitive, 用/.../i
         * 
        */
        text = "The rain in SPAIN stays mainly in the plain";
        result = text.match("ain"); // ['ain', index: 5, input: 'The rain in SPAIN stays mainly in the plain', groups: undefined]     , ain
        result = text.match(/ain/); // ['ain', index: 5, input: 'The rain in SPAIN stays mainly in the plain', groups: undefined]     , ain
        result = text.match(/ain/gi); // ['ain', 'AIN', 'ain', 'ain'] ，   ain,AIN,ain,ain

        console.log(result);
        console.log(result + "");



        /**
         * 
         *   matchAll()
         *   - 和match()类似, 只是它是匹配所有的字符串
         *   - case sensitive
         * 
         * 
         * 
        */
        text = "I love cats. Cats are very easy to love. Cats are very popular."
        const iterator = text.matchAll("Cats"); // Cats,Cats

        console.log(iterator);



        /**
         * 
         *  includes
         *  - 检查字符串里面是否含有指定的字符串
         *      如果有, 返回true
         *      如果没有, 返回false
         *  - returns true if a string contains a specified value
         *  - case sensitive
         *  - 参数:
         *      第一个参数是指定要检查的字符串
         *      第二个参数是要检查的字符串的开始位置
         *  
         *  
        */
        text = "Hello world, welcome to the universe.";
        result = text.includes("world"); // true
        result = text.includes("World"); // false
        result = text.includes("world", 12); // false


        console.log(result);




        /**
         * 
         *  startsWith()
         *  - 检查字符串是否由指定的字符串开始
         *  - returns true if a string begins with a specified value
         *  - 参数:
         *      第一个参数是指定要检查的字符串
         *      第二个参数是要检查的字符串的开始位置
         * 
        */
        text = "Hello world, welcome to the universe.";
        result = text.startsWith("Hello"); //true
        result = text.startsWith("world") // false
        result = text.startsWith("world", 6) // true
        result = text.startsWith("world", 5) // false

        console.log(result);




        /**
         * 
         *  endWith()
         *  - 检查字符串是否由指定的字符串结束
         *  - returns true if a string ends with a specified value
         *  - 参数:
         *      第一个参数是指定要检查的字符串
         *      第二个参数是要检查的字符串的开始位置
         * 
        */
    </script>
</head>

<body>

</body>

</html>