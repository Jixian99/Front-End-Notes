<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIFE(自调用函数)</title>

    <script type="text/javascript">


        /**
         * 
         *  IIFE(自调用函数)
         *  - 全称: Immediately - Invoked Function Expression 自调用函数
         *  - 作用:
         *      ~ 隐藏实现
         *      ~ 不会污染外部(一般指全局)命名空间
         *      ~  用它来编码js模块
         * 
        */


        (function () { //匿名函数自调用
            var a = 3;
            console.log(a + 3); // 6
        })();
        // console.log(a) // Error: a is not defined


            //此处前方为何要一个`;`-->因为自调用函数外部有一个()包裹,可能与前方以()结尾的代码被一起认为是函数调用
            //不加分号可能会被认为这样 console.log(a)(IIFE)
            ; (function () {//不会污染外部(全局)命名空间-->举例
                let a = 1;
                function test() { console.log(++a) } //声明一个局部函数test
                window.$ = function () { return { test: test } }// 向外暴露一个全局函数
            })()
        // test()  //test is not defined
        $().test() // 1. $是一个函数  2. $执行后返回的是一个对象

        console.log($()); // {test: ƒ}







    </script>
</head>

<body>




</body>

</html>